rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    // ğŸ”¥ å…¼å®¹è‡ªå®šç¾©èªè­‰ç³»çµ±çš„å®‰å…¨è¦å‰‡
    
    // æœƒå“¡è³‡æ–™é›†åˆ
    match /users/{userId} {
      // å…è¨±è®€å–å’Œå¯«å…¥ - ç”±æ‡‰ç”¨å±¤æ§åˆ¶æ¬Šé™
      allow read, write: if true;
    }

    // æœƒå“¡æœƒè©±é›†åˆ
    match /user_sessions/{sessionId} {
      // å…è¨±è®€å–å’Œå¯«å…¥ - ç”±æ‡‰ç”¨å±¤æ§åˆ¶æ¬Šé™
      allow read, write: if true;
    }

    // æŸ¥è©¢ç´€éŒ„é›†åˆ
    match /query_logs/{logId} {
      // å…è¨±è®€å–å’Œå¯«å…¥ - ç”±æ‡‰ç”¨å±¤æ§åˆ¶æ¬Šé™
      allow read, write: if true;
    }

    // å¯†ç¢¼é‡è¨­é›†åˆ
    match /password_resets/{resetId} {
      // å…è¨±è®€å–å’Œå¯«å…¥ - ç”±æ‡‰ç”¨å±¤æ§åˆ¶æ¬Šé™
      allow read, write: if true;
    }

    // AML åˆ¶è£åå–®è³‡æ–™ï¼ˆåªè®€ï¼‰
    match /aml_profiles/{profileId} {
      // å…è¨±è®€å–
      allow read: if true;
      // åªå…è¨±ç®¡ç†å“¡å¯«å…¥ï¼ˆç”±æ‡‰ç”¨å±¤æ§åˆ¶ï¼‰
      allow write: if true;
    }

    // AML çµ±è¨ˆè³‡æ–™ï¼ˆåªè®€ï¼‰
    match /aml_stats/{statId} {
      allow read: if true;
      allow write: if true;
    }

    // å…¶ä»–é›†åˆé è¨­æ‹’çµ•
    match /{document=**} {
      allow read, write: if false;
    }
  }
}
